<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <title>Title</title>
   <style>
      #test{
         position: absolute;
         left: 0;
         right: 0;
         bottom: 0;
         top: 0;
         margin: auto;
         background: gainsboro;
      }
   </style>
</head>
<body>
   <canvas id="test" width="500px" height="500px"></canvas>

<script type="text/javascript">
   window.onload=function () {
     var canvas=document.getElementById('test')
     if(canvas.getContext) {
       var ctx = canvas.getContext('2d')
     }

       canvas.onmousedown=function (event) {
         ctx.beginPath()
         ctx.moveTo(event.clientX-canvas.offsetLeft,event.clientY-canvas.offsetTop)
         document.onmousemove=function (event) {
           ctx.lineTo(event.clientX-canvas.offsetLeft,event.clientY-canvas.offsetTop)
           ctx.stroke()
           canvas.onmouseup=function () {
             document.onmousemove=document.onmouseup=null
           }
         }
         return false
       }
   }

</script>
</body>
</html>